{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Capor\\\\WebstormProjects\\\\glowing-flowers\\\\src\\\\context\\\\CartContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useCallback, useMemo, useState, useContext, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({});\n\nfunction CartContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [items, setItems] = useState([]);\n  const [cartOpen, setCartOpen] = useState(false);\n  const [searchText, setSearchText] = useState(\"\");\n  const handleAddQuantity = useCallback((id, quantity) => {\n    setItems(items.map(item => {\n      return item.product.id === id ? { ...item,\n        quantity: quantity !== undefined ? item.quantity + quantity : item.quantity + 1\n      } : item;\n    }));\n  }, [items]);\n  const handleRemoveQuantity = useCallback(id => {\n    setItems(items.map(item => {\n      return item.product.id === id ? { ...item,\n        quantity: item.quantity - 1\n      } : item;\n    }));\n  }, [items]);\n  const handleAdd = useCallback(function (product) {\n    let quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    const item = items.find(item => item.product.id === product.id);\n\n    if (item) {\n      handleAddQuantity(product.id, quantity);\n    } else {\n      setItems([...items, {\n        product,\n        quantity\n      }]);\n    }\n  }, [handleAddQuantity, items]);\n  const handleRemove = useCallback(function (id) {\n    let removeFromCart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    const item = items.find(item => item.product.id === id);\n\n    if (!!item && item.quantity === 1 || removeFromCart) {\n      setItems(items.filter(item => item.product.id !== id));\n    } else {\n      handleRemoveQuantity(id);\n    }\n  }, [items, handleRemoveQuantity]);\n  const value = useMemo(() => {\n    return {\n      items,\n      cartOpen,\n      add: handleAdd,\n      remove: handleRemove,\n      open: setCartOpen,\n      search: setSearchText,\n      searchText\n    };\n  }, [handleAdd, handleRemove, items, cartOpen, searchText]);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 10\n  }, this);\n}\n\n_s(CartContextProvider, \"x6j9Z1smGlAS4AdA4b3P6obpBqA=\");\n\n_c = CartContextProvider;\n\nfunction useCartContext() {\n  _s2();\n\n  const context = useContext(CartContext);\n\n  if (!context) {\n    throw new Error(\"useCartContext must be wrapped in CartContextProvider\");\n  }\n\n  return context;\n}\n\n_s2(useCartContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { CartContextProvider, useCartContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["useCallback","useMemo","useState","useContext","createContext","CartContext","CartContextProvider","children","items","setItems","cartOpen","setCartOpen","searchText","setSearchText","handleAddQuantity","id","quantity","map","item","product","undefined","handleRemoveQuantity","handleAdd","find","handleRemove","removeFromCart","filter","value","add","remove","open","search","useCartContext","context","Error"],"sources":["C:/Users/Capor/WebstormProjects/glowing-flowers/src/context/CartContext.js"],"sourcesContent":["import {\r\n  useCallback,\r\n  useMemo,\r\n  useState,\r\n  useContext,\r\n  createContext\r\n} from \"react\";\r\n\r\nconst CartContext = createContext({});\r\n\r\nfunction CartContextProvider({ children }) {\r\n  const [items, setItems] = useState([]);\r\n  const [cartOpen, setCartOpen] = useState(false);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  const handleAddQuantity = useCallback(\r\n    (id, quantity) => {\r\n      setItems(\r\n        items.map((item) => {\r\n          return item.product.id === id\r\n            ? {\r\n                ...item,\r\n                quantity:\r\n                  quantity !== undefined\r\n                    ? item.quantity + quantity\r\n                    : item.quantity + 1\r\n              }\r\n            : item;\r\n        })\r\n      );\r\n    },\r\n    [items]\r\n  );\r\n\r\n  const handleRemoveQuantity = useCallback(\r\n    (id) => {\r\n      setItems(\r\n        items.map((item) => {\r\n          return item.product.id === id\r\n            ? { ...item, quantity: item.quantity - 1 }\r\n            : item;\r\n        })\r\n      );\r\n    },\r\n    [items]\r\n  );\r\n  const handleAdd = useCallback(\r\n    (product, quantity = 1) => {\r\n      const item = items.find((item) => item.product.id === product.id);\r\n      if (item) {\r\n        handleAddQuantity(product.id, quantity);\r\n      } else {\r\n        setItems([...items, { product, quantity }]);\r\n      }\r\n    },\r\n    [handleAddQuantity, items]\r\n  );\r\n\r\n  const handleRemove = useCallback(\r\n    (id, removeFromCart = false) => {\r\n      const item = items.find((item) => item.product.id === id);\r\n      if ((!!item && item.quantity === 1) || removeFromCart) {\r\n        setItems(items.filter((item) => item.product.id !== id));\r\n      } else {\r\n        handleRemoveQuantity(id);\r\n      }\r\n    },\r\n    [items, handleRemoveQuantity]\r\n  );\r\n\r\n  const value = useMemo(() => {\r\n    return {\r\n      items,\r\n      cartOpen,\r\n      add: handleAdd,\r\n      remove: handleRemove,\r\n      open: setCartOpen,\r\n      search: setSearchText,\r\n      searchText\r\n    };\r\n  }, [handleAdd, handleRemove, items, cartOpen, searchText]);\r\n\r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n}\r\n\r\nfunction useCartContext() {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error(\"useCartContext must be wrapped in CartContextProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nexport { CartContextProvider, useCartContext };\r\n"],"mappings":";;;;AAAA,SACEA,WADF,EAEEC,OAFF,EAGEC,QAHF,EAIEC,UAJF,EAKEC,aALF,QAMO,OANP;;AAQA,MAAMC,WAAW,gBAAGD,aAAa,CAAC,EAAD,CAAjC;;AAEA,SAASE,mBAAT,OAA2C;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EACzC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA5C;EAEA,MAAMY,iBAAiB,GAAGd,WAAW,CACnC,CAACe,EAAD,EAAKC,QAAL,KAAkB;IAChBP,QAAQ,CACND,KAAK,CAACS,GAAN,CAAWC,IAAD,IAAU;MAClB,OAAOA,IAAI,CAACC,OAAL,CAAaJ,EAAb,KAAoBA,EAApB,GACH,EACE,GAAGG,IADL;QAEEF,QAAQ,EACNA,QAAQ,KAAKI,SAAb,GACIF,IAAI,CAACF,QAAL,GAAgBA,QADpB,GAEIE,IAAI,CAACF,QAAL,GAAgB;MALxB,CADG,GAQHE,IARJ;IASD,CAVD,CADM,CAAR;EAaD,CAfkC,EAgBnC,CAACV,KAAD,CAhBmC,CAArC;EAmBA,MAAMa,oBAAoB,GAAGrB,WAAW,CACrCe,EAAD,IAAQ;IACNN,QAAQ,CACND,KAAK,CAACS,GAAN,CAAWC,IAAD,IAAU;MAClB,OAAOA,IAAI,CAACC,OAAL,CAAaJ,EAAb,KAAoBA,EAApB,GACH,EAAE,GAAGG,IAAL;QAAWF,QAAQ,EAAEE,IAAI,CAACF,QAAL,GAAgB;MAArC,CADG,GAEHE,IAFJ;IAGD,CAJD,CADM,CAAR;EAOD,CATqC,EAUtC,CAACV,KAAD,CAVsC,CAAxC;EAYA,MAAMc,SAAS,GAAGtB,WAAW,CAC3B,UAACmB,OAAD,EAA2B;IAAA,IAAjBH,QAAiB,uEAAN,CAAM;IACzB,MAAME,IAAI,GAAGV,KAAK,CAACe,IAAN,CAAYL,IAAD,IAAUA,IAAI,CAACC,OAAL,CAAaJ,EAAb,KAAoBI,OAAO,CAACJ,EAAjD,CAAb;;IACA,IAAIG,IAAJ,EAAU;MACRJ,iBAAiB,CAACK,OAAO,CAACJ,EAAT,EAAaC,QAAb,CAAjB;IACD,CAFD,MAEO;MACLP,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAW;QAAEW,OAAF;QAAWH;MAAX,CAAX,CAAD,CAAR;IACD;EACF,CAR0B,EAS3B,CAACF,iBAAD,EAAoBN,KAApB,CAT2B,CAA7B;EAYA,MAAMgB,YAAY,GAAGxB,WAAW,CAC9B,UAACe,EAAD,EAAgC;IAAA,IAA3BU,cAA2B,uEAAV,KAAU;IAC9B,MAAMP,IAAI,GAAGV,KAAK,CAACe,IAAN,CAAYL,IAAD,IAAUA,IAAI,CAACC,OAAL,CAAaJ,EAAb,KAAoBA,EAAzC,CAAb;;IACA,IAAK,CAAC,CAACG,IAAF,IAAUA,IAAI,CAACF,QAAL,KAAkB,CAA7B,IAAmCS,cAAvC,EAAuD;MACrDhB,QAAQ,CAACD,KAAK,CAACkB,MAAN,CAAcR,IAAD,IAAUA,IAAI,CAACC,OAAL,CAAaJ,EAAb,KAAoBA,EAA3C,CAAD,CAAR;IACD,CAFD,MAEO;MACLM,oBAAoB,CAACN,EAAD,CAApB;IACD;EACF,CAR6B,EAS9B,CAACP,KAAD,EAAQa,oBAAR,CAT8B,CAAhC;EAYA,MAAMM,KAAK,GAAG1B,OAAO,CAAC,MAAM;IAC1B,OAAO;MACLO,KADK;MAELE,QAFK;MAGLkB,GAAG,EAAEN,SAHA;MAILO,MAAM,EAAEL,YAJH;MAKLM,IAAI,EAAEnB,WALD;MAMLoB,MAAM,EAAElB,aANH;MAOLD;IAPK,CAAP;EASD,CAVoB,EAUlB,CAACU,SAAD,EAAYE,YAAZ,EAA0BhB,KAA1B,EAAiCE,QAAjC,EAA2CE,UAA3C,CAVkB,CAArB;EAYA,oBAAO,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEe,KAA7B;IAAA,UAAqCpB;EAArC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD;;GAzEQD,mB;;KAAAA,mB;;AA2ET,SAAS0B,cAAT,GAA0B;EAAA;;EACxB,MAAMC,OAAO,GAAG9B,UAAU,CAACE,WAAD,CAA1B;;EACA,IAAI,CAAC4B,OAAL,EAAc;IACZ,MAAM,IAAIC,KAAJ,CAAU,uDAAV,CAAN;EACD;;EACD,OAAOD,OAAP;AACD;;IANQD,c;;AAQT,SAAS1B,mBAAT,EAA8B0B,cAA9B"},"metadata":{},"sourceType":"module"}