{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Capor\\\\WebstormProjects\\\\glowing-flowers\\\\src\\\\pages\\\\product\\\\ProductsPage.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { css } from \"@emotion/css\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { useProducts } from \"../../data/useProducts\";\nimport ProductsList from \"../../components/products/ProductsList\";\nimport Title from \"../../components/heading/Title\";\nimport { SortControl, sortByTypes } from \"../../components/select/SortControl\";\nimport Hero from \"../../components/hero/Hero\";\nimport { useLatest } from \"../../hooks/useLatest\";\nimport { usePrevious } from \"../../hooks/usePrevious\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pageWrapperCSS = css`\n  margin-top: 130px;\n`;\nconst productCardCSS = css`\n  padding: 80px 20px;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 20px;\n  justify-items: center;\n  max-width: 1500px;\n  margin: 0 auto;\n  height: auto;\n  @media (min-width: 300px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n\n  @media (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  @media (min-width: 1008px) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n`;\n\nfunction sortByString(a, b, asc) {\n  if (a < b) {\n    return asc ? -1 : 1;\n  }\n\n  if (a > b) {\n    return asc ? 1 : -1;\n  }\n\n  return 0;\n}\n\nfunction sortByNumber(a, b, asc) {\n  return asc ? a - b : b - a;\n}\n\nfunction getSortedProducts(products, sortBy, sortByAsc) {\n  if (!sortBy) {\n    return products;\n  }\n\n  switch (sortBy) {\n    case sortByTypes.name:\n      {\n        return products.slice().sort((a, b) => {\n          return sortByString(a.name, b.name, sortByAsc);\n        });\n      }\n\n    default:\n      {\n        return products.slice().sort((a, b) => {\n          return sortByNumber(a.price, b.price, sortByAsc);\n        });\n      }\n  }\n}\n\nfunction useTitle(cb) {\n  _s();\n\n  const cbRef = useLatest(cb);\n  const {\n    category\n  } = useParams();\n  const prevCategory = usePrevious(category);\n  const latestCb = cbRef.current;\n  useEffect(() => {\n    if (category !== prevCategory) {\n      document.title = category;\n      latestCb();\n    }\n  }, [category, prevCategory, latestCb]);\n}\n\n_s(useTitle, \"O3vSrV6fnd1KBRuUHLM4Am64si8=\", false, function () {\n  return [useLatest, useParams, usePrevious];\n});\n\nfunction ProductsPage() {\n  _s2();\n\n  const {\n    results: products = []\n  } = useProducts();\n  const {\n    category\n  } = useParams();\n  const [sortBy, setSortBy] = useState();\n  const [sortByAsc, setSortByAsc] = useState();\n  const productsList = products.filter(product => {\n    return !category || product.category === category;\n  });\n  const sortedProductsList = getSortedProducts(productsList, sortBy, sortByAsc);\n  useTitle(() => {\n    setSortBy(undefined);\n    setSortByAsc(undefined);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: pageWrapperCSS,\n    children: [!category && /*#__PURE__*/_jsxDEV(Hero, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://res.cloudinary.com/dgdnpkfun/image/upload/v1684030399/Pastel-Rainbow-Modern-January-Monthly-Email-Header-Email-Header_r6y5t1.png\",\n      alt: \"Mothers Day Sale\",\n      style: {\n        objectSize: \"fill\",\n        maxWidth: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      title: category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SortControl, {\n      sortBy: sortBy,\n      sortByAsc: sortByAsc,\n      onSort: (sortBy, sortByAsc) => {\n        setSortBy(sortBy);\n        setSortByAsc(sortByAsc);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: productCardCSS,\n      children: /*#__PURE__*/_jsxDEV(ProductsList, {\n        products: sortedProductsList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(ProductsPage, \"uWqNf7hUkBitArMJpdhMlSghdTA=\", false, function () {\n  return [useProducts, useParams, useTitle];\n});\n\n_c = ProductsPage;\nexport default ProductsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsPage\");","map":{"version":3,"names":["css","useParams","useEffect","useState","useProducts","ProductsList","Title","SortControl","sortByTypes","Hero","useLatest","usePrevious","pageWrapperCSS","productCardCSS","sortByString","a","b","asc","sortByNumber","getSortedProducts","products","sortBy","sortByAsc","name","slice","sort","price","useTitle","cb","cbRef","category","prevCategory","latestCb","current","document","title","ProductsPage","results","setSortBy","setSortByAsc","productsList","filter","product","sortedProductsList","undefined","objectSize","maxWidth"],"sources":["C:/Users/Capor/WebstormProjects/glowing-flowers/src/pages/product/ProductsPage.js"],"sourcesContent":["import { css } from \"@emotion/css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { useProducts } from \"../../data/useProducts\";\r\nimport ProductsList from \"../../components/products/ProductsList\";\r\nimport Title from \"../../components/heading/Title\";\r\nimport { SortControl, sortByTypes } from \"../../components/select/SortControl\";\r\nimport Hero from \"../../components/hero/Hero\";\r\nimport { useLatest } from \"../../hooks/useLatest\";\r\nimport { usePrevious } from \"../../hooks/usePrevious\";\r\n\r\nconst pageWrapperCSS = css`\r\n  margin-top: 130px;\r\n`;\r\n\r\nconst productCardCSS = css`\r\n  padding: 80px 20px;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 20px;\r\n  justify-items: center;\r\n  max-width: 1500px;\r\n  margin: 0 auto;\r\n  height: auto;\r\n  @media (min-width: 300px) {\r\n    grid-template-columns: repeat(1, 1fr);\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n  @media (min-width: 1008px) {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n`;\r\n\r\nfunction sortByString(a, b, asc) {\r\n  if (a < b) {\r\n    return asc ? -1 : 1;\r\n  }\r\n  if (a > b) {\r\n    return asc ? 1 : -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction sortByNumber(a, b, asc) {\r\n  return asc ? a - b : b - a;\r\n}\r\n\r\nfunction getSortedProducts(products, sortBy, sortByAsc) {\r\n  if (!sortBy) {\r\n    return products;\r\n  }\r\n\r\n  switch (sortBy) {\r\n    case sortByTypes.name: {\r\n      return products.slice().sort((a, b) => {\r\n        return sortByString(a.name, b.name, sortByAsc);\r\n      });\r\n    }\r\n    default: {\r\n      return products.slice().sort((a, b) => {\r\n        return sortByNumber(a.price, b.price, sortByAsc);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction useTitle(cb) {\r\n  const cbRef = useLatest(cb);\r\n  const { category } = useParams();\r\n  const prevCategory = usePrevious(category);\r\n\r\n  const latestCb = cbRef.current;\r\n\r\n  useEffect(() => {\r\n    if (category !== prevCategory) {\r\n      document.title = category;\r\n      latestCb();\r\n    }\r\n  }, [category, prevCategory, latestCb]);\r\n}\r\n\r\nfunction ProductsPage() {\r\n  const { results: products = [] } = useProducts();\r\n  const { category } = useParams();\r\n  const [sortBy, setSortBy] = useState();\r\n  const [sortByAsc, setSortByAsc] = useState();\r\n\r\n  const productsList = products.filter((product) => {\r\n    return !category || product.category === category;\r\n  });\r\n\r\n  const sortedProductsList = getSortedProducts(productsList, sortBy, sortByAsc);\r\n\r\n  useTitle(() => {\r\n    setSortBy(undefined);\r\n    setSortByAsc(undefined);\r\n  });\r\n\r\n  return (\r\n    <div className={pageWrapperCSS}>\r\n      {!category && <Hero />}\r\n      <img\r\n        src=\"https://res.cloudinary.com/dgdnpkfun/image/upload/v1684030399/Pastel-Rainbow-Modern-January-Monthly-Email-Header-Email-Header_r6y5t1.png\"\r\n        alt=\"Mothers Day Sale\"\r\n        style={{ objectSize: \"fill\", maxWidth: \"100%\" }}\r\n      />\r\n      <Title title={category} />\r\n      <SortControl\r\n        sortBy={sortBy}\r\n        sortByAsc={sortByAsc}\r\n        onSort={(sortBy, sortByAsc) => {\r\n          setSortBy(sortBy);\r\n          setSortByAsc(sortByAsc);\r\n        }}\r\n      />\r\n      <div className={productCardCSS}>\r\n        <ProductsList products={sortedProductsList} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductsPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}